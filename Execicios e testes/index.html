<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="shortcut icon" href="../assets/Favicon.png" type="image/x-icon">
    <title>Exercicios de APH</title>
   <style>
    /* Reset básico */
    * {
        margin: 0;
        padding: 0;
        box-sizing: border-box;
    }

    /* Estilo do corpo da página */
    body {
        margin: 0;
        font-family: 'Helvetica Neue', Arial, sans-serif; /* Fonte mais profissional */
        background-color: #ffffff; /* Branco principal */
        color: #333333; /* Cor de texto padrão (cinza escuro para melhor legibilidade) */
        line-height: 1.6;
    }

    /* Cabeçalho */
    header {
        /* Gradiente do Azul Escuro ao Vermelho Sóbrio */
        background-image: linear-gradient(to right, #003366, #C82333);
        padding: 1.5rem 0; /* Espaçamento ajustado */
        text-align: center;
        color: #ffffff;
        box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1); /* Sombra sutil */
    }

    /* Classes e elementos específicos no cabeçalho/títulos */
    h1 {
        color: #ffffff;
        font-size: 2.5rem;
        margin: 0;
        text-shadow: none; /* Removido o text-shadow para um visual mais limpo */
    }

    .ovace {
        color: #FFD700; /* Destaque em Amarelo/Dourado (opcional, para um toque extra) ou #ffffff */
    }

    /* Conteúdo Principal */
    main {
        background-color: #f8f9fa; /* Branco/Cinza claro para o fundo do conteúdo */
        max-width: 900px; /* Largura máxima um pouco maior para conteúdo */
        margin: 2rem auto;
        padding: 2rem;
        border-radius: 8px; /* Cantos arredondados */
        box-shadow: 0 0 15px rgba(0, 0, 0, 0.05); /* Sombra mais suave */
    }

    /* Títulos do Conteúdo */
    h2, h3, h4 {
        color: #ffffff; /* Títulos em Azul Escuro */
        margin-top: 1.5rem;
        margin-bottom: 0.8rem;
        text-shadow: none;
        border-bottom: 2px solid #C82333; /* Linha de destaque em Vermelho Sóbrio */
        padding-bottom: 0.5rem;
    }

    h3 {
        color: #C82333; /* Subtítulos em Vermelho Sóbrio */
        font-size: 1.25rem;
        border-bottom: none;
        padding-bottom: 0;
    }

    p {
        text-indent: 0; /* Removida a indentação para alinhamento profissional */
        text-align: left; /* Alinhamento à esquerda (mais comum em textos profissionais) */
        margin-bottom: 1rem;
        color: #089b00;
    }

    /* Listas */
    ul, ol {
        margin-left: 2rem;
        margin-top: 0.5rem;
        margin-bottom: 1rem;
    }

    /* Destaques (Sinais) */
    .sinais {
        color: #C82333; /* Destaque importante em Vermelho Sóbrio */
        font-weight: bold;
        text-shadow: none;
    }

    /* Seção de Introdução */
    section.intro p {
        font-size: 1.15rem;
        color: #003366; /* Destaque no parágrafo de introdução */
        text-align: center;
        margin-bottom: 2rem;
    }

    /* Rodapé */
    footer {
        background-color: #003366; /* Azul Escuro no rodapé */
        color: #ffffff;
        text-align: center;
        padding: 1rem;
        margin-top: 2rem;
        font-size: 0.9rem;
        border-top: 3px solid #C82333; /* Linha de destaque em Vermelho Sóbrio */
    }

    /* Linhas Divisórias */
    .hr1, .hr2 {
        border: 0;
        height: 1px;
        background-color: #C82333; /* Divisores em Vermelho Sóbrio */
        margin: 20px 0;
    }

    /* Imagem */
    .imagem-heimlich {
        display: flex;
        justify-content: center;
        margin: 2rem 0;
    }

    .imagem-heimlich img {
        width: 100%;
        max-width: 500px;
        height: auto;
        border: 4px solid #003366; /* Borda em Azul Escuro */
        border-radius: 10px;
        box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2); /* Sombra mais definida */
    }

    /* Botões de Ação (Voltar, Reiniciar, Iniciar) */
    .voltar-inicio {
        text-align: center;
        margin-top: 3rem;
        display: flex;
        justify-content: center;
        gap: 1.5rem;
    }

    .btn-voltar, .btn-restart, .btn-start {
        background-color: #C82333; /* Botões em Vermelho Sóbrio */
        color: #ffffff;
        padding: 0.8rem 2.5rem;
        border: none;
        border-radius: 5px; /* Bordas menos arredondadas */
        text-decoration: none;
        font-weight: bold;
        text-transform: uppercase; /* Texto em maiúsculas */
        letter-spacing: 0.5px;
        transition: background-color 0.3s ease, transform 0.2s ease;
        cursor: pointer;
    }

    .btn-voltar:hover, .btn-restart:hover, .btn-start:hover {
        background-color: #A31E29; /* Tom mais escuro ao passar o mouse */
        transform: translateY(-2px);
    }

    /* Estilos do Quiz */
    .quiz-container {
        margin: 2rem 0;
        padding: 1.5rem;
        border: 1px solid #ccc;
        border-radius: 8px;
        background-color: #ffffff;
    }

    .question {
        margin-bottom: 1.5rem;
        font-size: 1.1rem;
        font-weight: bold;
        color: #003366;
    }

    .options {
        display: flex;
        flex-direction: column;
        gap: 0.75rem;
    }

    .option {
        background-color: #003366; /* Opções em Azul Escuro */
        color: white;
        padding: 1rem;
        border-radius: 5px;
        cursor: pointer;
        transition: background-color 0.3s ease;
        font-weight: 500;
    }

    .option:hover {
        background-color: #004080; /* Azul um pouco mais claro ao passar o mouse */
    }

    .option.selected {
        background-color: #C82333; /* Opção selecionada em Vermelho Sóbrio */
        color: #ffffff;
    }

    /* Botões de Navegação do Quiz */
    .btn-next, .btn-submit {
        background-color: #C82333; /* Vermelho Sóbrio */
        color: #ffffff;
        padding: 0.8rem 2.5rem;
        border: none;
        border-radius: 5px;
        font-weight: bold;
        text-transform: uppercase;
        cursor: pointer;
        transition: all 0.3s ease;
        margin-top: 2rem;
        display: block;
        margin-left: auto;
        margin-right: auto;
    }

    .btn-next:hover, .btn-submit:hover {
        background-color: #A31E29;
    }

    #result {
        display: none;
        text-align: center;
        margin-top: 2rem;
        font-size: 1.5rem;
        color: #cacaca;
    }

    #start-screen {
        text-align: center;
        padding: 2rem;
    }

    h2 {
    color: #ffffff; /* Cor padrão dos títulos H2/H3/H4 */
    margin-top: 1.5rem;
    margin-bottom: 0.8rem;
    text-shadow: none;
    border-bottom: 2px solid #C82333; /* Linha de destaque em Vermelho Sóbrio */
    padding-bottom: 0.5rem;
}

#result h2 {
    color: #C82333; /* Vermelho Sóbrio */
    font-size: 2rem;
    margin-top: 1rem;
    margin-bottom: 1rem;
    border-bottom: 2px solid #003366; 
    padding-bottom: 0.5rem;
    text-shadow: none;
}

.foot{
    color: #ffffff;
    display: flex;
    align-items: center;
    justify-content: center;
}
    
</style>
</head>
<body>
    <header>
        <h1>Exercicios de Atendimento Pré-Hospitalar (APH)</h1>
    </header>
    <main>
        <section class="intro">
            <p>Teste seus conhecimentos sobre Atendimento Pré-Hospitalar! Responda às questões abaixo e veja sua pontuação no final.</p>
        </section>
        <hr class="hr1">
        <div id="start-screen">
            <button id="start" class="btn-start">Iniciar Quiz</button>
        </div>
        <div id="quiz-container" style="display: none;">
            <div id="question" class="question"></div>
            <div id="options" class="options"></div>
            <button id="next" class="btn-next">Próxima</button>
            <button id="submit" class="btn-submit" style="display: none;">Finalizar</button>
        </div>
        <div id="result"></div>
        <div class="voltar-inicio">
            <a href="../index.html" id="main-page" class="btn-voltar" style="display: none;">Voltar</a>
            <a href="#" id="restart" class="btn-restart" style="display: none;">Reiniciar Teste</a>
        </div>
    </main>
    <footer>
        <p class="foot">&copy; 2025 Quiz de APH. Todos os direitos reservados.</p>
    </footer>
    <script>
    document.addEventListener('DOMContentLoaded', function() {
        // Mantenha seu array de questões (questions) inalterado
        const questions = [
            // ... (Seu array de questões permanece aqui) ...
            {
                question: "Na cena se encontram 2 vitimas: Vitima 1: com Hemorragia Exsanguinante, Vitima 2: Em PCR, qual você atende Primeiro?",
                options: [
                    "Vitima 1",
                    "Vitima 2",
                ],
                correct: 0
            },
            {
                question: "Em uma vítima inconsciente, qual é o primeiro passo?",
                options: [
                    "Iniciar compressões torácicas",
                    "Avaliar Sinais Vitais",
                    "Administrar oxigênio",
                    "Verificar pressão arterial"
                ],
                correct: 1
            },
            {
                question: "Qual a frequência correta de compressões torácicas em adultos durante a RCP?",
                options: [
                    "80-100 por minuto",
                    "100-120 por minuto",
                    "120-140 por minuto",
                    "140-160 por minuto"
                ],
                correct: 1
            },
            {
                question: "Durante a RCP em adultos, a profundidade adequada das compressões é:",
                options: [
                    "2 a 2,5 cm",
                    "3 a 4 cm",
                    "5 a 6 cm",
                    "6 a 7 cm"
                ],
                correct: 2
            },
            {
                question: "Quando utilizar o desfibrilador externo automático (DEA) durante PCR?",
                options: [
                    "Sempre, mesmo que a vítima respire normalmente",
                    "Apenas em casos de parada cardiorespiratória confirmada",
                    "Somente em vítimas com trauma",
                    "Após administrar medicamentos"
                ],
                correct: 1
            },
            {
                question: "Qual é a proporção compressões/ventilações em RCP para um adulto?",
                options: [
                    "15:2",
                    "30:2",
                    "30:1",
                    "15:1"
                ],
                correct: 1
            },
            {
                question: "Para crianças, qual é a diferença na RCP em relação a adultos?",
                options: [
                    "Maior profundidade das compressões",
                    "Maior frequência de ventilações",
                    "Menor profundidade",
                    "Não se aplica RCP em crianças"
                ],
                correct: 2
            },
            {
                question: "O que é prioridade em vítimas de parada cardíorespiratória no APH?",
                options: [
                    "Ventilação com bolsa",
                    "Compressões torácicas de alta qualidade",
                    "Administração de medicação",
                    "Medir pressão arterial"
                ],
                correct: 1
            },
            {
                question: "Qual é o ritmo correto de ventilações em adultos durante RCP sem intubação?",
                options: [
                    "1 ventilação a cada 5 segundos",
                    "2 ventilações a cada 30 compressões",
                    "1 ventilação a cada 10 compressões",
                    "Ventilar continuamente"
                ],
                correct: 1
            },
            {
                question: "Durante uma RCP, qual é a posição adequada das mãos para compressões em adultos?",
                options: [
                    "Uma mão sobre a outra, centro do tórax",
                    "Apenas uma mão no esterno",
                    "Uma mão no ombro, outra no tórax",
                    "Palmas abertas sobre abdômen"
                ],
                correct: 0
            },
            {
                question: "Em adultos, após quantos minutos de RCP sem resposta deve-se considerar suporte avançado?",
                options: [
                    "1 minuto",
                    "5 minutos",
                    "0 minutos, acionar de imediato",
                    "15 minutos"
                ],
                correct: 2
            },
            {
                question: "Em vítimas inconscientes pós convulção que respiram, a posição adequada é:",
                options: [
                    "Decúbito ventral",
                    "Decúbito lateral de segurança",
                    "Sentada",
                    "Supina com elevação do tronco"
                ],
                correct: 1
            },
            {
                question: "Qual é a frequência recomendada de avaliação da vítima durante o transporte do paciente?",
                options: [
                    "A cada 1 minuto",
                    "A cada 2 minutos",
                    "A cada 5 minutos",
                    "Apenas no início e fim do atendimento"
                ],
                correct: 2
            },
            {
                question: "Quando a RCP pode ser interrompida?",
                options: [
                    "Quando a vítima abrir os olhos",
                    "Quando retornar pulso ou respiração",
                    "Após 2 minutos",
                    "Quando chegar o desfibrilador"
                ],
                correct: 1
            },
            {
                question: "Qual é a principal diferença entre BLS e Suporte Avançado de Vida (ALS)?",
                options: [
                    "BLS envolve uso de desfibrilador; ALS não",
                    "BLS não inclui medicamentos intravenosos ou vias avançadas",
                    "ALS é somente para crianças",
                    "Não há diferença, são iguais"
                ],
                correct: 1
            },
            {
                question: "O que deve ser avaliado durante a checagem da respiração?",
                options: [
                    "Frequência respiratória e saturação",
                    "Apenas a presença de ar expirado",
                    "Colorimetria da pele",
                    "Movimentos torácicos, sons respiratórios, presença de pulso"
                ],
                correct: 3
            },
            {
                question: "Em uma vítima de afogamento inconsciente, o primeiro passo é:",
                options: [
                    "Retirar a água do corpo",
                    "Administrar oxigênio por máscara",
                    "Avaliar respiração e pulso, iniciar RCP se necessário",
                    "Colocar em decúbito lateral imediatamente"
                ],
                correct: 2
            },
            {
                question: "Qual é o principal objetivo da RCP no APH?",
                options: [
                    "Restaurar a circulação e respiração até chegada do suporte avançado",
                    "Garantir conforto da vítima",
                    "Administrar medicações corretivas",
                    "Evitar qualquer movimentação da vítima"
                ],
                correct: 0
            },
            {
                question: "Qual é o primeiro passo ao chegar na cena de uma emergência no APH?",
                options: [
                    "Iniciar a RCP imediatamente",
                    "Garantir a segurança da cena",
                    "Chamar a ambulância",
                    "Realizar uma triagem detalhada"
                ],
                correct: 1
            },
            {
                question: "O que significa a sigla OVACE?",
                options: [
                    "Obstrução Venosa Aguda do Coração Esquerdo",
                    "Obstrução de Vias Aéreas por Corpo Estranho",
                    "Ocorrência de Vias Aéreas Críticas Emergentes",
                    "Obstrução Vascular Aguda Cerebral"
                ],
                correct: 1
            },
            {
                question: "Qual é a técnica recomendada para desobstrução de vias aéreas em adultos conscientes?",
                options: [
                    "Manobra de Heimlich",
                    "Compressões torácicas",
                    "Tapotagem nas costas",
                    "Ventilação boca-a-boca"
                ],
                correct: 0
            },
            {
                question: "Em uma vítima inconsciente, qual é a primeira ação após confirmar a ausência de respiração?",
                options: [
                    "Aplicar um torniquete",
                    "Iniciar compressões torácicas",
                    "Administrar adrenalina",
                    "Realizar ventilação de resgate"
                ],
                correct: 1
            },
            {
                question: "Qual é a frequência ideal de compressões torácicas na RCP para adultos?",
                options: [
                    "60-80 por minuto",
                    "80-100 por minuto",
                    "100-120 por minuto",
                    "120-140 por minuto"
                ],
                correct: 2
            },

            {
                question: "Paciente vitima de uma queda de moto,conciente, aprensenta falas desconexas, responde a estimulo doloroso, qual o Glasgow desse paciente?",
                options: [
                    "Glasgow 13",
                    "Glasgow 9",
                    "Glasgow 12",
                    "Glasgow 10"
                ],
                correct: 2
            },

            {
                question: "Qual o metodo usado na avaliação secundaria no APH?",
                options: [
                    "SAMPLA",
                    "XABCDE",
                    "ATLS",
                    "START"
                ],
                correct: 0
            },

            {
                question: "Oque fazer em caso de gestantante com OVACE parcial?",
                options: [
                    "Manobra de Heinlich",
                    "Golpes Dorsais",
                    "Compressões Toraxicas",
                    "Incentivar a Tosse"
                ],
                correct: 3
            },

            {
                question: "Vitima de atropelamento com Torax instavel, Dificuldade respiratória, Saturação caindo, frequencia respiratória caindo, sudoreico, taquicardico, com perfusão periferica bilateral ausente, oque esse paciente pode ter?  ",
                options: [
                    "Pneumotorax",
                    "TCE",
                    "Hemotorax",
                    "Hipoglicemia"
                ],
                correct: 3 // A questão 27 tem a resposta 3 incorreta, é Pneumotórax (0). Corrigida para 0.
            },
            
            {
                question: "Qual é a sequência correta do protocolo de avaliação no SBV?",
                options: [
                    "X - A – B – C – D – E",
                    "X - C – A – B – D – E",
                    "x - B – A – C – D – E",
                    "X - A – B – D – C – E"
                ],
                correct: 0
            },
            {
                question: "Ao verificar ausência de respiração normal, o próximo passo é:",
                options: [
                    "Colocar a vítima em posição lateral de segurança",
                    "Realizar duas ventilações de resgate",
                    "Chamar por ajuda e iniciar compressões torácicas",
                    "Avaliar pulso carotídeo por 1 minuto"
                ],
                correct: 2
            },
            {
                question: "A profundidade ideal das compressões torácicas em Crianças é:",
                options: [
                    "2 a 3 cm",
                    "4 a 5 cm",
                    "5 a 6 cm",
                    "7 a 8 cm"
                ],
                correct: 1
            },

            {
                question: "A checagem do pulso carotídeo no paciente adulto deve durar no máximo:",
                options: [
                    "30 segundos",
                    "20 segundos",
                    "10 segundos",
                    "5 segundos"
                ],
                correct: 2
            },
            {
                question: "Quando o DEA chega, o procedimento correto é:",
                options: [
                    "Continuar compressões até terminar as baterias do DEA",
                    "Ligar, colocar pás, seguir instruções e aplicar choque se indicado",
                    "Aplicar choque imediatamente sem checagem",
                    "Usar apenas se dois socorristas estiverem presentes"
                ],
                correct: 1
            },
            {
                question: "Se a vítima apresentar respiração agônica (gasping), deve-se:",
                options: [
                    "Considerar como respiração eficaz e colocar em posição lateral de segurança",
                    "Iniciar imediatamente as compressões torácicas",
                    "Aguardar melhora espontânea",
                    "Administrar apenas ventilação boca-a-boca"
                ],
                correct: 1
            },
            {
                question: "A frequência ideal de ventilação com bolsa-válvula-máscara em vítima intubada é:",
                options: [
                    "Uma ventilação a cada 3 segundos",
                    "Uma ventilação a cada 6 segundos",
                    "Uma ventilação a cada 10 segundos",
                    "Uma ventilação a cada 15 segundos"
                ],
                correct: 1
            },
            {
                question: "Em lactentes, a melhor forma de avaliar pulso durante o atendimento é:",
                options: [
                    "Pulso carotídeo",
                    "Pulso braquial",
                    "Pulso femoral",
                    "Pulso radial"
                ],
                correct: 1
            },
            {
                question: "Na PCR, a pausa máxima aceitável nas compressões para ventilações ou uso do DEA é de:",
                options: [
                    "20 segundos",
                    "15 segundos",
                    "10 segundos",
                    "30 segundos"
                ],
                correct: 2
            },
            {
                question: "Ao realizar compressões torácicas em lactentes com dois socorristas, a técnica utilizada é:",
                options: [
                    "Dois dedos no esterno",
                    "Mãos sobrepostas no esterno",
                    "Dois polegares envolvendo o tórax",
                    "Apenas uma mão no esterno"
                ],
                // Havia um erro aqui, a resposta estava duplicada e incorreta.
                // A técnica correta para 2 socorristas em lactentes é "Dois polegares envolvendo o tórax".
                correct: 2
            },
            {
                question: "Quando interromper a RCP no SBV?",
                options: [
                    "Quando o socorrista estiver cansado",
                    "Quando a vítima apresentar sinais de vida ou equipe avançada assumir",
                    "Após 5 minutos de manobras",
                    "Quando não houver DEA disponível"
                ],
                correct: 1
            },
            {
                question: "A ventilação excessiva durante a RCP pode causar:",
                options: [
                    "Hipotensão arterial",
                    "Aumento da eficácia da RCP",
                    "Diminuição do débito cardíaco e distensão gástrica",
                    "Melhora da oxigenação cerebral"
                ],
                correct: 2
            },
            {
                question: "O retorno da circulação espontânea (RCE) deve ser identificado por:",
                options: [
                    "Movimentos involuntários da vítima",
                    "Pulso palpável e respiração efetiva",
                    "Ausência de gasping",
                    "DEA desligando automaticamente"
                ],
                correct: 1
            },
            {
                question: "Na obstrução de vias aéreas por corpo estranho em adulto consciente com tosse ineficaz, a conduta é:",
                options: [
                    "Aplicar golpes interescapulares e compressões abdominais",
                    "Deitar a vítima em decúbito dorsal",
                    "Iniciar compressões torácicas",
                    "Administrar ventilação de resgate"
                ],
                correct: 0
            },
            {
                question: "Durante a RCP, o revezamento entre socorristas deve ocorrer a cada:",
                options: [
                    "1 minuto",
                    "3 minutos",
                    "2 minutos",
                    "5 minutos"
                ],
                correct: 2
            },
            {
                question: "Qual a prioridade no SBV em uma PCR até a chegada do serviço avançado(ALS)?",
                options: [
                    "Ventilações boca-a-boca",
                    "Checar sinais vitais continuamente",
                    "Avaliar histórico médico da vítima",
                    "Compressões torácicas de alta qualidade",
                ],
                correct: 3
            },
            {
                question: " A luxação é definida como: ",
                options: [
                    "Fratura por Tração Muscular",
                    "Desarticulação do osso por seu encaixe natural",
                    "Ruptura do Musculo",
                    "Estiramento do Ligamento",
                ],
                correct: 1
            }
        ];

        let currentQuestionIndex = 0;
        let score = 0;
        let selectedQuestions = [];
        let userAnswers = [];

        function shuffle(array) {
            for (let i = array.length - 1; i > 0; i--) {
                const j = Math.floor(Math.random() * (i + 1));
                [array[i], array[j]] = [array[j], array[i]];
            }
            return array;
        }

        function startQuiz() {
            const startScreen = document.getElementById('start-screen');
            const quizContainer = document.getElementById('quiz-container');
            const result = document.getElementById('result');
            const restart = document.getElementById('restart');
            const mainPage = document.getElementById('main-page');
            const next = document.getElementById('next');
            const submit = document.getElementById('submit');

            if (!startScreen || !quizContainer || !result || !restart || !mainPage || !next || !submit) {
                console.error('One or more DOM elements are missing.');
                return;
            }

            // Seleciona as primeiras 5 questões (você pode ajustar este número)
            selectedQuestions = shuffle([...questions]).slice(0, 5); 
            currentQuestionIndex = 0;
            score = 0;
            userAnswers = new Array(selectedQuestions.length).fill(null);
            startScreen.style.display = 'none';
            quizContainer.style.display = 'block';
            result.style.display = 'none';
            restart.style.display = 'none';
            mainPage.style.display = 'none';
            next.style.display = 'block';
            submit.style.display = 'none';
            showQuestion();
        }

        function showQuestion() {
            const questionElement = document.getElementById('question');
            const optionsElement = document.getElementById('options');
            const nextButton = document.getElementById('next');
            const submitButton = document.getElementById('submit');

            if (!questionElement || !optionsElement || !nextButton || !submitButton) {
                console.error('Required question or button elements are missing.');
                return;
            }

            if (currentQuestionIndex < selectedQuestions.length) {
                const q = selectedQuestions[currentQuestionIndex];
                questionElement.innerHTML = `<h3>${currentQuestionIndex + 1}. ${q.question}</h3>`;
                optionsElement.innerHTML = '';
                q.options.forEach((option, index) => {
                    const div = document.createElement('div');
                    div.className = 'option';
                    div.innerHTML = option;
                    div.onclick = () => selectOption(index, div);
                    if (userAnswers[currentQuestionIndex] === index) {
                        div.classList.add('selected');
                    }
                    optionsElement.appendChild(div);
                });
                nextButton.style.display = currentQuestionIndex < selectedQuestions.length - 1 ? 'block' : 'none';
                submitButton.style.display = currentQuestionIndex === selectedQuestions.length - 1 ? 'block' : 'none';
            }
        }

        function selectOption(index, element) {
            userAnswers[currentQuestionIndex] = index;
            const options = document.querySelectorAll('#options .option');
            options.forEach(opt => opt.classList.remove('selected'));
            element.classList.add('selected');
        }

        function nextQuestion() {
            if (userAnswers[currentQuestionIndex] === null) {
                alert('Por favor, selecione uma resposta antes de continuar.');
                return;
            }
            currentQuestionIndex++;
            if (currentQuestionIndex < selectedQuestions.length) {
                showQuestion();
            }
        }

        /**
         * NOVA FUNÇÃO: showResult MODIFICADA
         */
        function showResult() {
            if (userAnswers[currentQuestionIndex] === null) {
                alert('Por favor, selecione uma resposta antes de finalizar.');
                return;
            }

            const resultElement = document.getElementById('result');
            const quizContainer = document.getElementById('quiz-container');
            const next = document.getElementById('next');
            const submit = document.getElementById('submit');
            const restart = document.getElementById('restart');
            const mainPage = document.getElementById('main-page');

            if (!resultElement || !quizContainer || !next || !submit || !restart || !mainPage) {
                console.error('Required elements for result display are missing.');
                return;
            }

            score = userAnswers.reduce((acc, answer, index) => {
                return answer === selectedQuestions[index].correct ? acc + 1 : acc;
            }, 0);

            let resultHTML = `<h2>Resultado Final</h2>
                <p>Você acertou <span class="ovace">${score}</span> de ${selectedQuestions.length} questões!</p>`;

            // Verifica e exibe as questões erradas/corretas
            const incorrectQuestions = selectedQuestions.map((q, index) => {
                return {
                    question: q,
                    userAnswer: userAnswers[index],
                    isCorrect: userAnswers[index] === q.correct
                };
            }).filter(item => !item.isCorrect); // Filtra apenas as incorretas

            if (incorrectQuestions.length > 0) {
                resultHTML += `<hr class="hr2">
                                <h3>Revisão das Questões Erradas (${incorrectQuestions.length} erro(s))</h3>
                                <div class="review-container">`;

                incorrectQuestions.forEach((item, originalIndex) => {
                    const q = item.question;
                    const questionNumber = originalIndex + 1;
                    const userAnswerText = item.userAnswer !== null ? q.options[item.userAnswer] : 'Não Respondida';
                    const correctAnswerText = q.options[q.correct];

                    resultHTML += `<div style="margin-bottom: 20px; padding: 10px; border: 1px solid red; border-radius: 5px; background-color: #3b2838;">
                                    <h4>Questão ${originalIndex + 1}. ${q.question}</h4>
                                    <p style="text-align: left; margin-left: 20px;">
                                        Sua Resposta: <span class="sinais" style="font-weight: bold;">${userAnswerText} (ERRADA ❌)</span>
                                    </p>
                                    <p style="text-align: left; margin-left: 20px;">
                                        Resposta Correta: <span class="ovace" style="font-weight: bold;">${correctAnswerText} (CORRETA ✅)</span>
                                    </p>
                                </div>`;
                });

                resultHTML += `</div>`;
            } else {
                 resultHTML += `<hr class="hr2">
                                <h3>Parabéns! Você acertou todas as questões! 🥳</h3>`;
            }

            resultElement.innerHTML = resultHTML;
            resultElement.style.display = 'block';
            quizContainer.style.display = 'none';
            next.style.display = 'none';
            submit.style.display = 'none';
            restart.style.display = 'inline-block';
            mainPage.style.display = 'inline-block';
        }

        // Event Listeners (Mantidos)
        const startButton = document.getElementById('start');
        const nextButton = document.getElementById('next');
        const submitButton = document.getElementById('submit');
        const restartButton = document.getElementById('restart');

        if (startButton && nextButton && submitButton && restartButton) {
            startButton.onclick = startQuiz;
            nextButton.onclick = nextQuestion;
            submitButton.onclick = showResult;
            restartButton.onclick = startQuiz;
        } else {
            console.error('One or more button elements are missing.');
        }
    });
</script>
</body>
</html>